(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{370:function(t,e,a){"use strict";a.r(e);var s=a(42),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("ol",[a("li",[t._v("搜索镜像")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker search 镜像名")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker search centos\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("下载镜像")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker pull 搜索出来的镜像名")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker pull centos\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("运行镜像并创建容器")])]),t._v(" "),a("blockquote",[a("p",[t._v('docker run -dti -p 宿主端口:容器内端口 -v 宿主目录:容器目录 -e "环境变量名=变量值" --name 别名 --link 另一个容器名:取别名 镜像名:tag 运行命令\n-d 让容器在后台以守护态运行，-t 让docker分配一个伪终端，-i 让容器标准输入打开'),a("br"),t._v("\n-p 映射本地端口到容器内部端口，宿主机端口:容器内部端口\n-v 挂载目录，宿主机目录:容器内部目录，可以挂载整个目录或单个文件\n--name 为容器指定一个名称\n-e 设置环境变量\n--link 添加链接到另一个容器\n最后容器需要运行一个进程，否则容器会退出，/bin/bash会启动bash终端，允许用户进行交互")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('docker run -dti -p 10911:10911 -p 10909:10909 -v `pwd`/data/broker/logs:/home/rocketmq/logs -v `pwd`/data/broker/store:/home/rocketmq/store --name rmqbroker --link rmqnamesrv:namesrv -e "NAMESRV_ADDR=namesrv:9876" centos:7 /bin/bash\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("启动容器")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker start 容器id")])]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("进入容器")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker attach 容器id\n进入容器的前提是创建容器的时候设置了-t -i 参数，并运行了/bin/bash")])]),t._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[t._v("备份到镜像文件")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker commit -m '描述信息' -a '作者' 容器id 镜像名:tag")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker commit -m 'RocketMQ+java+centos' -a 'denis' 27439ca118a6 cenots:rkmq\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"7"}},[a("li",[t._v("查看容器日志")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker logs -f -t --tail=100 容器id")])]),t._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[t._v("运行容器内命令")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker exec -it 容器id 命令")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 查看当前目录文件\ndocker exec -it 27439ca118a6 ls\n\n# 打印abc.txt内容\ndocker exec -it 27439ca118a6 cat abc.txt\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ol",{attrs:{start:"9"}},[a("li",[t._v("查看所有镜像")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker images")])]),t._v(" "),a("ol",{attrs:{start:"10"}},[a("li",[t._v("查看容器运行状态")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker ps\ndocker ps -a #加上-a参数查看包括不运行的容器")])]),t._v(" "),a("ol",{attrs:{start:"11"}},[a("li",[t._v("停止容器运行")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker stop 容器id")])]),t._v(" "),a("ol",{attrs:{start:"12"}},[a("li",[t._v("强制停止容器")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker kill 容器id")])]),t._v(" "),a("ol",{attrs:{start:"13"}},[a("li",[t._v("重启容器")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker restart 容器id")])]),t._v(" "),a("ol",{attrs:{start:"14"}},[a("li",[t._v("删除容器")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker rm 容器id"),a("br"),t._v("\n删除之前要先停止容器docker stop，或者加上参数-fv，docker rm -fv 容器id")])]),t._v(" "),a("ol",{attrs:{start:"15"}},[a("li",[t._v("删除镜像")])]),t._v(" "),a("blockquote",[a("p",[t._v("docker rmi 镜像id\n删除镜像之前不能有用此镜像的容器在运行")])]),t._v(" "),a("h4",{attrs:{id:"如何退出容器而不停止容器-组合键-ctrl-p-q"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何退出容器而不停止容器-组合键-ctrl-p-q"}},[t._v("#")]),t._v(" 如何退出容器而不停止容器？组合键：Ctrl+P+Q")])])}),[],!1,null,null,null);e.default=r.exports}}]);